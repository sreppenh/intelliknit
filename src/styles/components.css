/* =========================================
   INTELLIKNIT DESIGN SYSTEM COMPONENTS
   =========================================
   
   ðŸ“š Table of Contents:
   1. Core Utilities
   2. Button System  
   3. Form Controls
   4. Modal System
   5. Knitting Modal System
   6. Card System
   7. Layout & Typography
   8. Interactive Elements
   9. Mobile & Responsive Fixes

   
   ========================================= */

/* ===== 1. CORE UTILITIES ===== */

select {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Global anti-bounce fixes */
html {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
  touch-action: manipulation;
  scroll-behavior: smooth;
}

body {
  overscroll-behavior: none;
  touch-action: manipulation;
  margin: 0;
  padding: 0;
}

#root {
  min-height: 100vh;
  width: 100vw;
}

/* Touch improvements */
button,
a,
[role="button"],
.clickable {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

body.modal-open {
  overflow: hidden;
}

/* ===== 2. BUTTON SYSTEM ===== */

/* Base button properties - applied to all button variants */
.btn-base {
  @apply rounded-xl font-semibold shadow-sm transition-all duration-200;
  @apply focus:ring-2 focus:ring-offset-2 focus:outline-none;
  /* Consistent layout and sizing */
  display: flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  min-height: 48px;
}

.btn-primary {
  @apply btn-base bg-sage-500 hover:bg-sage-600 text-white py-4 px-6;
  @apply focus:ring-lavender-500;
  @apply active:bg-sage-700 active:scale-[0.98];
  @apply disabled:bg-wool-400 disabled:cursor-not-allowed disabled:opacity-60;
}

.btn-secondary {
  @apply btn-base bg-sage-100 hover:bg-sage-200 text-sage-700 py-3 px-4;
  @apply border border-sage-200;
  @apply focus:ring-sage-500;
  @apply active:bg-sage-300 active:scale-[0.98];
  @apply disabled:bg-wool-100 disabled:text-wool-400 disabled:cursor-not-allowed disabled:opacity-60;
}

.btn-tertiary {
  @apply btn-base bg-wool-100 hover:bg-wool-200 text-wool-700 py-3 px-4;
  @apply border border-wool-200;
  @apply focus:ring-lavender-500;
  @apply active:bg-wool-300 active:scale-[0.98];
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-info {
  @apply btn-base bg-lavender-500 hover:bg-lavender-600 text-white py-3 px-4;
  @apply focus:ring-lavender-500;
  @apply active:bg-lavender-700 active:scale-[0.98];
  @apply disabled:bg-lavender-300 disabled:cursor-not-allowed disabled:opacity-60;
}

.btn-danger {
  @apply btn-base bg-red-50 hover:bg-red-100 text-red-700 py-3 px-4;
  @apply border border-red-200;
  @apply focus:ring-red-500;
  @apply active:bg-red-200 active:scale-[0.98];
  @apply disabled:bg-red-50 disabled:text-red-400 disabled:cursor-not-allowed disabled:opacity-60;
}

/* Button size variants */
.btn-sm {
  @apply py-2 px-3 text-sm;
  min-height: 40px;
  /* Slightly smaller but still touch-friendly */
}

.btn-lg {
  @apply py-4 px-6 text-lg;
  min-height: 56px;
  /* Larger for prominent actions */
}

/* Increment/decrement button system */
.btn-increment {
  @apply w-12 h-12 rounded-lg flex items-center justify-center font-bold transition-colors;
  @apply focus:ring-2 focus:ring-offset-1 focus:outline-none;
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-increment-plus {
  @apply btn-increment;
  @apply bg-sage-200 hover:bg-sage-300 text-sage-900;
  @apply focus:ring-sage-500;
  @apply active:bg-sage-400;
}

.btn-increment-minus {
  @apply btn-increment;
  @apply bg-red-200 hover:bg-red-300 text-red-900;
  @apply focus:ring-red-500;
  @apply active:bg-red-400;
}

.btn-increment-sm {
  @apply w-9 h-9 text-sm;
}

.btn-increment-lg {
  @apply w-12 h-12 text-lg;
}

/* Utility buttons */
.remove-button {
  @apply text-wool-400 hover:text-red-500 w-6 h-6 flex items-center justify-center rounded-full;
  @apply hover:bg-red-50 transition-colors text-sm cursor-pointer;
  @apply focus:ring-2 focus:ring-red-300 focus:ring-opacity-50;
}

.remove-button-lg {
  @apply text-wool-400 hover:text-red-500 w-8 h-8 flex items-center justify-center rounded-lg;
  @apply hover:bg-red-50 transition-colors font-medium cursor-pointer;
  @apply focus:ring-2 focus:ring-red-300 focus:ring-opacity-50;
}

.add-button {
  @apply w-full border-2 border-dashed border-wool-300 text-wool-600 py-3 rounded-xl;
  @apply hover:border-sage-400 hover:text-sage-600 hover:bg-sage-50;
  @apply transition-all duration-200 font-medium cursor-pointer;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
}

/* ===== STANDARDIZED DELETE BUTTON SYSTEM ===== */

/* Icon-only delete buttons for inline deletion (phases, actions, tags) */
.delete-icon {
  @apply w-8 h-8 flex items-center justify-center rounded-lg text-base;
  @apply text-wool-400 hover:text-red-600 hover:bg-red-50;
  @apply transition-all duration-200 cursor-pointer;
  @apply focus:ring-2 focus:ring-red-300 focus:ring-opacity-50 focus:outline-none;
  @apply active:scale-95 active:bg-red-100;
  /* Mobile-first: 44px minimum touch target */
  min-width: 44px;
  min-height: 44px;
  font-size: 1.125rem;
  /* Makes Ã— character bigger */
}

.delete-icon-sm {
  @apply w-7 h-7 flex items-center justify-center rounded-md text-sm;
  @apply text-wool-400 hover:text-red-600 hover:bg-red-50;
  @apply transition-all duration-200 cursor-pointer;
  @apply focus:ring-2 focus:ring-red-300 focus:ring-opacity-50 focus:outline-none;
  @apply active:scale-95;
  /* Still maintains minimum touch target for mobile */
  min-width: 44px;
  min-height: 44px;
  font-size: 1.125rem;
  /* Makes Ã— character bigger */
}

/* Delete menu items for dropdowns and substantial actions */
.delete-menu-item {
  @apply w-full px-4 py-3 text-left text-red-600 hover:bg-red-50;
  @apply text-sm flex items-center gap-2 transition-colors font-medium;
  @apply border-t border-wool-100;
  @apply focus:bg-red-50 focus:outline-none;
  /* Mobile-friendly touch target */
  min-height: 48px;
}

/* Delete buttons in modals and forms - uses existing .btn-danger */
.delete-button {
  @apply btn-danger;
}

.delete-button-sm {
  @apply btn-danger btn-sm;
}

/* ===== 3. FORM CONTROLS ===== */

/* Base input styling - shared properties */
.input-base {
  @apply w-full border-2 border-wool-200 rounded-xl text-base;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
  @apply transition-all duration-200 placeholder-wool-400 bg-white;
  @apply disabled:bg-wool-50 disabled:cursor-not-allowed disabled:opacity-60;
  min-height: 48px;
  /* Accessibility: WCAG touch target */
}

/* Standard text inputs */
.input-field {
  @apply input-base px-3 py-2.5;
}

.input-field-lg {
  @apply input-base px-4 py-4;
  min-height: 56px;
}

/* Numeric inputs */
.input-numeric {
  @apply w-20 text-center border-2 border-wool-200 rounded-xl px-3 py-2 text-sm;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
  @apply transition-all duration-200 placeholder-wool-400 bg-white;
  @apply disabled:bg-wool-50 disabled:cursor-not-allowed disabled:opacity-60;
  min-height: 44px;
}

.input-numeric-lg {
  @apply w-24 text-center border-2 border-wool-200 rounded-xl px-3 py-3 text-base;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
  @apply transition-all duration-200 placeholder-wool-400 bg-white;
  @apply disabled:bg-wool-50 disabled:cursor-not-allowed disabled:opacity-60;
  min-height: 48px;
}

.input-numeric-sm {
  @apply w-16 text-center border-2 border-wool-200 rounded-xl px-3 py-1 text-xs;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
  @apply transition-all duration-200 placeholder-wool-400 bg-white;
  @apply disabled:bg-wool-50 disabled:cursor-not-allowed disabled:opacity-60;
  min-height: 40px;
}

/* Textarea */
.input-textarea {
  @apply input-base px-3 py-2.5 resize-none;
  @apply min-h-[120px];
}

/* Input validation states */
.input-field-error {
  @apply border-red-300 bg-red-50;
  @apply focus:border-red-500 focus:ring-red-300;
}

.input-field-success {
  @apply border-sage-300 bg-sage-50;
  @apply focus:border-sage-500 focus:ring-sage-300;
}

.input-field-warning {
  @apply border-yarn-300 bg-yarn-50;
  @apply focus:border-yarn-500 focus:ring-yarn-300;
}

/* Legacy alias for backwards compatibility */
.details-input-field {
  @apply input-field;
}

.details-textarea {
  @apply input-textarea;
}

/* Increment input groups */
.increment-input-group {
  @apply flex items-center gap-2 justify-start;
  width: fit-content;
  flex-shrink: 0;
}

.increment-input-group-vertical {
  @apply flex flex-col items-center gap-1;
}

/* Form labels */
.form-label {
  @apply block text-sm font-semibold text-wool-700 mb-3 text-left;
}

.form-label-required::after {
  content: ' *';
  @apply text-red-500;
}

.form-label-lg {
  @apply block text-base font-semibold text-wool-700 mb-3 text-left;
}

.form-label-sm {
  @apply block text-xs font-semibold text-wool-700 mb-2 text-left;
}

/* Form help text */
.form-help {
  @apply text-xs text-wool-500 mt-2 text-left;
}

.form-help-warning {
  @apply text-xs text-yarn-600 mt-2 text-left;
}

.form-help-error {
  @apply text-xs text-red-600 mt-2 text-left;
}

.form-help-success {
  @apply text-xs text-sage-600 mt-2 text-left;
}

/* Form field patterns */
.form-field {
  @apply space-y-3;
}

.form-field-inline {
  @apply flex items-center gap-3;
}

.form-field-complete {
  @apply space-y-3;
}

.form-field-complete .form-label {
  @apply mb-3;
}

.form-field-complete .form-help {
  @apply mt-2;
}

/* Segmented controls */
.segmented-control {
  @apply bg-white border-2 border-wool-200 rounded-xl p-1;
}

.segmented-option {
  @apply py-2 px-4 rounded-lg text-sm font-semibold transition-all duration-200;
  @apply text-wool-600 hover:text-sage-600 cursor-pointer;
}

.segmented-option-active {
  @apply bg-sage-100 text-sage-700 shadow-sm;
}

.segmented-option-active:hover {
  @apply text-sage-700;
}

/* Alternative segmented control variant (used in some places) */
.segmented-control-alt {
  @apply bg-wool-100 border-2 border-wool-200 rounded-xl p-1;
  @apply hover:border-sage-300 transition-colors duration-200;
}

.segmented-option-alt {
  @apply py-3 px-4 rounded-lg text-sm font-semibold transition-all duration-200;
  @apply text-wool-600 hover:text-sage-600 cursor-pointer;
}

.segmented-option-alt-active {
  @apply bg-sage-500 text-white shadow-sm transform scale-[1.02];
}

/* ===== 4. MODAL SYSTEM ===== */

.modal {
  @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
}

/* FIXED: Responsive modal sizing */
.modal-content {
  @apply bg-yarn-50 rounded-2xl shadow-xl w-full border-2 border-wool-200;
  max-width: 90vw;
  /* Mobile: 90% screen width */
}

.modal-content-light {
  @apply bg-sage-50 rounded-2xl shadow-xl w-full border-2 border-sage-200;
  max-width: 90vw;
  /* Mobile: 90% screen width */
}

/* Responsive modal sizing */
@media (min-width: 640px) {

  .modal-content,
  .modal-content-light {
    max-width: 500px;
    /* Tablet/Desktop: reasonable fixed width */
  }
}

@media (min-width: 1024px) {

  .modal-content,
  .modal-content-light {
    max-width: 600px;
    /* Large desktop: slightly bigger */
  }
}

/* Modal headers */
.modal-header-light {
  @apply bg-sage-200 text-sage-800 px-6 py-4 rounded-t-2xl;
}

.modal-header-light-danger {
  @apply bg-red-100 text-red-800 px-6 py-4 rounded-t-2xl;
}

/* FIXED: Standardized close button system */
.modal-close-btn {
  @apply flex items-center justify-center transition-colors rounded-full;
  @apply focus:ring-2 focus:ring-offset-1 focus:outline-none;
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

.modal-close-sm {
  @apply modal-close-btn w-10 h-10 text-lg;
}

.modal-close-md {
  @apply modal-close-btn w-12 h-12 text-xl;
}

.modal-close-light {
  @apply text-sage-600 hover:bg-sage-300 hover:bg-opacity-50;
  @apply focus:ring-sage-500;
}

.modal-close-dark {
  @apply text-wool-600 hover:bg-wool-200;
  @apply focus:ring-wool-500;
}

.modal-close-danger {
  @apply text-red-600 hover:bg-red-100;
  @apply focus:ring-red-500;
}

.modal-close-lavender {
  @apply text-lavender-600 hover:bg-lavender-300 hover:bg-opacity-50;
  @apply focus:ring-lavender-500;
}

.modal-close-yarn {
  @apply text-yarn-600 hover:bg-yarn-300 hover:bg-opacity-50;
  @apply focus:ring-yarn-500;
}

.modal-close-position {
  @apply absolute right-4 top-4;
}

.modal-header-balanced {
  @apply flex items-center justify-between px-6 py-4;
}

/* Modal scrolling */
.scrollable-content,
.tab-content,
.modal-content {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: none;
}

.scrollable-content[class*="space-y"] {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: none;
}


/* ===== KNITTING MODAL SYSTEM ===== */

/* Base knitting modal - extends standard modal */
.knitting-modal-content {
  @apply modal-content;
  max-height: 90vh;
  /* Mobile: Full screen experience */
}

/* Mobile-first: Full screen on small devices */
@media (max-width: 640px) {
  .knitting-modal-content {
    @apply w-full h-full max-w-none rounded-none;
    max-height: 100vh;
  }
}

/* Tablet and up: Proper modal sizing */
@media (min-width: 640px) {
  .knitting-modal-content {
    max-width: 420px;
    max-height: 90vh;
    @apply rounded-2xl;
  }
}

/* Desktop: Slightly larger */
@media (min-width: 1024px) {
  .knitting-modal-content {
    max-width: 480px;
  }
}

/* ===== KNITTING STEP THEMES ===== */

/* Yarn Theme - Construction & Finishing Steps (Cast On, Bind Off) */
.knitting-card-yarn {
  @apply bg-gradient-to-br from-yarn-25 via-white to-yarn-50;
}

.knitting-content-yarn {
  @apply bg-yarn-50/30 border-yarn-200/50 backdrop-blur-sm rounded-2xl border shadow-sm;
}

.knitting-text-primary-yarn {
  @apply text-yarn-900;
}

.knitting-text-secondary-yarn {
  @apply text-yarn-700;
}

.knitting-nav-yarn {
  @apply text-yarn-600 hover:text-yarn-700;
}

/* Lavender Theme - Prep Cards */
.knitting-card-lavender {
  @apply bg-gradient-to-br from-lavender-50 via-lavender-25 to-white;
}

.knitting-content-lavender {
  @apply bg-lavender-50/30 border-lavender-200/50 backdrop-blur-sm rounded-2xl border shadow-sm;
}

.knitting-text-primary-lavender {
  @apply text-lavender-900;
}

.knitting-text-secondary-lavender {
  @apply text-lavender-700;
}

.knitting-nav-lavender {
  @apply text-lavender-600 hover:text-lavender-700;
}

/* Sage Theme - Regular Pattern Steps */
.knitting-card-sage {
  @apply bg-gradient-to-br from-sage-25 via-white to-sage-50;
}

.knitting-content-sage {
  @apply bg-sage-50/30 border-sage-200/50 backdrop-blur-sm rounded-2xl border shadow-sm;
}

.knitting-text-primary-sage {
  @apply text-sage-900;
}

.knitting-text-secondary-sage {
  @apply text-sage-700;
}

.knitting-nav-sage {
  @apply text-sage-600 hover:text-sage-700;
}

/* Completed Theme - Wool */
.knitting-card-completed {
  @apply bg-gradient-to-br from-wool-100 via-wool-50 to-wool-75;
}

.knitting-content-completed {
  @apply bg-wool-100/50 border-wool-300/50 backdrop-blur-sm rounded-2xl border shadow-sm;
}

.knitting-text-primary-completed {
  @apply text-wool-800;
}

.knitting-text-secondary-completed {
  @apply text-wool-600;
}

.knitting-nav-completed {
  @apply text-wool-600 hover:text-wool-700;
}

/* ===== 5. KNITTING MODAL SYSTEM ===== */

/* Modal Header */
.knitting-modal-header {
  @apply flex-shrink-0 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3 relative shadow-sm;
}

/* Modal Footer */
.knitting-modal-footer {
  @apply flex-shrink-0 bg-white/95 backdrop-blur-sm border-t border-gray-200 px-4 py-3 shadow-sm;
}

/* Navigation Arrows */
.knitting-nav-arrow {
  @apply flex items-center justify-center;
  pointer-events: auto !important;
  touch-action: manipulation;
  z-index: 9999 !important;
  /* Increased from 1000 */

  /* Fixed positioning and sizing */
  position: fixed !important;
  width: 48px !important;
  height: 48px !important;

  /* Clean styling */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  transition: all 0.2s ease;
}

.knitting-nav-arrow:hover {
  background-color: rgba(255, 255, 255, 1);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.knitting-nav-arrow:active {
  transform: scale(0.95);
}

.knitting-nav-arrow-left {
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
}

.knitting-nav-arrow-right {
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
}

.knitting-nav-arrow-left:hover {
  transform: translateY(-50%) scale(1.05);
}

.knitting-nav-arrow-right:hover {
  transform: translateY(-50%) scale(1.05);
}

.knitting-nav-arrow-left:active {
  transform: translateY(-50%) scale(0.95);
}

.knitting-nav-arrow-right:active {
  transform: translateY(-50%) scale(0.95);
}

/* Ensure modal elements stay below arrows */
.modal-content,
.knitting-modal-header,
.knitting-modal-footer,
.knitting-transition-overlay {
  z-index: 1000 !important;
}

/* Completion Toggle */
.knitting-completion-toggle {
  @apply absolute top-4 left-4 z-20 flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/90 hover:bg-white backdrop-blur-sm shadow-sm border transition-all hover:scale-105;
}

/* Flip Button */
.knitting-flip-button {
  @apply w-full flex items-center justify-center gap-2 py-3 bg-sage-100 hover:bg-sage-200 text-sage-700 rounded-xl transition-colors font-medium shadow-sm;
}

/* Progress Indicators */
.knitting-progress-dots {
  @apply absolute bottom-24 left-1/2 transform -translate-x-1/2;
}

.knitting-progress-dot {
  @apply w-2 h-2 rounded-full transition-colors;
}

.knitting-progress-dot-active {
  @apply knitting-progress-dot bg-sage-500;
}

.knitting-progress-dot-inactive {
  @apply knitting-progress-dot bg-white/50;
}

/* Header Progress Bar */
.knitting-header-progress {
  @apply w-2 h-1 rounded-full transition-colors;
}

.knitting-header-progress-current {
  @apply knitting-header-progress bg-sage-500;
}

.knitting-header-progress-completed {
  @apply knitting-header-progress bg-sage-300;
}

.knitting-header-progress-future {
  @apply knitting-header-progress bg-gray-200;
}

/* Transition Effects */
.knitting-transition-overlay {
  @apply absolute inset-0 bg-black/10 flex items-center justify-center pointer-events-none;
}

.knitting-transition-message {
  @apply bg-white/90 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg;
}

/* Override StandardModal height behavior for knitting modals */
.knitting-modal-content {
  max-height: none !important;
  /* Remove fixed height constraint */
  height: auto !important;
  /* Let content determine height */
  overflow-y: visible !important;
  /* Remove unnecessary scrolling */
}

/* But still respect viewport limits on mobile */
@media (max-width: 640px) {
  .knitting-modal-content {
    max-height: 90vh !important;
    /* Keep mobile constraint */
    overflow-y: auto !important;
    /* Allow scrolling on mobile if needed */
  }
}

/* For tablet and up: content-based sizing with reasonable max */
@media (min-width: 640px) {
  .knitting-modal-content {
    max-height: min(90vh, fit-content) !important;
    overflow-y: auto !important;
  }
}


/* ===== 6. CARD SYSTEM ===== */

/* Base card variants */
.card {
  @apply bg-white border-2 border-wool-200 rounded-xl p-5 shadow-sm transition-colors duration-200;
}

.card-highlight {
  @apply bg-gradient-to-r from-sage-50 to-yarn-50 border-2 border-sage-200 rounded-xl p-5 shadow-sm transition-colors duration-200;
}

.card-info {
  @apply bg-lavender-100 border-2 border-lavender-200 rounded-xl p-5 transition-colors duration-200;
}

.card-compact {
  @apply bg-white border-2 border-wool-200 rounded-xl p-3 shadow-sm transition-colors duration-200;
}

/* Interactive cards */
.card-interactive {
  @apply bg-white border-2 border-wool-200 rounded-xl p-6 text-center transition-all duration-200;
  @apply hover:border-sage-300 hover:bg-sage-50 hover:shadow-lg hover:transform hover:scale-[1.02];
  @apply active:scale-95 cursor-pointer;
}

.card-clickable {
  @apply bg-white border-2 border-wool-200 rounded-xl p-5 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-300 hover:bg-wool-50 hover:shadow-md;
  @apply active:bg-wool-100 active:border-sage-400;
}

.card-clickable-compact {
  @apply bg-white border-2 border-wool-200 rounded-xl p-3 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-300 hover:bg-wool-50 hover:shadow-md;
  @apply active:bg-wool-100 active:border-sage-400;
}

/* Selectable cards - unified with SelectionGrid styling */
.card-selectable {
  @apply p-4 border-2 rounded-lg cursor-pointer transition-colors text-center;
  @apply border-wool-200 bg-white text-wool-700;
}

.card-selectable:not(.card-selectable-selected):hover {
  @apply border-sage-300;
}

.card-selectable-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

.card-selectable-compact {
  @apply p-3 border-2 rounded-lg cursor-pointer transition-colors text-center text-sm;
  @apply border-wool-200 bg-white text-wool-700;
}

.card-selectable-compact:not(.card-selectable-compact-selected):hover {
  @apply border-sage-300;
}

.card-selectable-compact-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

/* Selection buttons */
.selection-button {
  @apply p-4 border-2 rounded-lg cursor-pointer transition-colors text-center;
  @apply border-wool-200 bg-white text-wool-700;
}

.selection-button:not(.selection-button-selected):hover {
  @apply border-sage-300;
}

.selection-button-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

.card-marker-select {
  @apply p-4 border-2 rounded-lg cursor-pointer transition-colors text-center;
  @apply border-wool-200 bg-white text-wool-700;
}

.card-marker-select-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

.card-marker-select-compact {
  @apply p-3 border-2 rounded-lg cursor-pointer transition-colors text-center text-sm;
  @apply border-wool-200 bg-white text-wool-700;
}

.card-marker-select-compact:not(.card-marker-select-compact-selected):hover {
  @apply border-sage-300;
}

.card-marker-select-compact-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

/* Component status cards */
.card-component {
  @apply bg-yarn-100 border-2 border-yarn-300 text-yarn-800 rounded-xl p-3 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-yarn-400 hover:bg-yarn-150 hover:shadow-md;
  @apply active:bg-yarn-200 active:border-yarn-500;
}

.card-component-ready {
  @apply bg-sage-50 border-2 border-sage-500 text-sage-800 rounded-xl p-3 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-600 hover:bg-sage-100 hover:shadow-md;
  @apply active:bg-sage-150 active:border-sage-700;
}

.card-component-progress {
  @apply bg-sage-200 border-2 border-sage-600 text-sage-900 rounded-xl p-3 shadow-md transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-700 hover:bg-sage-250 hover:shadow-lg;
  @apply active:bg-sage-300 active:border-sage-800;
}

.card-component-complete {
  @apply bg-sage-300 border-2 border-sage-700 text-sage-900 rounded-xl p-3 shadow-lg transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-800 hover:bg-sage-400 hover:shadow-xl;
  @apply active:bg-sage-500 active:border-sage-900;
}

.card-component-finishing {
  @apply bg-lavender-100 border-2 border-lavender-400 text-lavender-800 rounded-xl p-3 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-lavender-500 hover:bg-lavender-150 hover:shadow-md;
  @apply active:bg-lavender-200 active:border-lavender-600;
}

/* Marker selection cards - based on working hardcoded pattern - these are new */
.card-marker-select {
  @apply p-4 border-2 rounded-lg cursor-pointer transition-colors text-center;
  @apply border-wool-200 bg-white text-wool-700;
}

.card-marker-select-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

.card-marker-select-compact {
  @apply p-3 border-2 rounded-lg cursor-pointer transition-colors text-center text-sm;
  @apply border-wool-200 bg-white text-wool-700;
}

.card-marker-select-compact:not(.card-marker-select-compact-selected):hover {
  @apply border-sage-300;
}

.card-marker-select-compact-selected {
  @apply border-sage-500 bg-sage-100 text-sage-700 font-semibold;
}

/* Project status cards */
.card-project-planning {
  @apply bg-yarn-100 border-2 border-yarn-300 text-yarn-800 rounded-xl p-4 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-yarn-400 hover:bg-yarn-150 hover:shadow-md;
  @apply active:bg-yarn-200 active:border-yarn-500;
}

.card-project-ready {
  @apply bg-sage-50 border-2 border-sage-500 text-sage-800 rounded-xl p-4 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-600 hover:bg-sage-100 hover:shadow-md;
  @apply active:bg-sage-150 active:border-sage-700;
}

.card-project-active {
  @apply bg-sage-200 border-2 border-sage-600 text-sage-900 rounded-xl p-4 shadow-md transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-700 hover:bg-sage-250 hover:shadow-lg;
  @apply active:bg-sage-300 active:border-sage-800;
}

.card-project-fire {
  @apply bg-sage-250 border-2 border-sage-700 text-sage-900 rounded-xl p-4 shadow-lg transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-800 hover:bg-sage-300 hover:shadow-xl;
  @apply active:bg-sage-350 active:border-sage-900;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(74, 138, 74, 0.3);
}

.card-project-fire:hover {
  box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(74, 138, 74, 0.5);
  transform: translateY(-1px);
}

.card-project-dormant {
  @apply bg-sage-75 border-2 border-sage-300 text-sage-700 rounded-xl p-4 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-sage-400 hover:bg-sage-100 hover:shadow-md;
  @apply active:bg-sage-150 active:border-sage-500;
}

.card-project-complete {
  @apply bg-lavender-150 border-2 border-lavender-300 text-lavender-700 rounded-xl p-4 shadow-lg transition-all duration-200 cursor-pointer;
  @apply hover:border-lavender-400 hover:bg-lavender-200 hover:shadow-xl;
  @apply active:bg-lavender-300 active:border-lavender-500;
}

.card-project-frogged {
  @apply bg-wool-300 border-2 border-wool-500 text-wool-800 rounded-xl p-4 shadow-sm transition-all duration-200 cursor-pointer;
  @apply hover:border-wool-600 hover:bg-wool-400 hover:shadow-md;
  @apply active:bg-wool-500 active:border-wool-700;
}

/* Sequence creation cards */
.sequence-creation-card {
  @apply bg-yarn-100 border-2 border-yarn-300 rounded-xl p-4 transition-all duration-200;
}

.sequence-creation-card .sequence-number {
  @apply w-7 h-7 rounded-full bg-yarn-500 text-white flex items-center justify-center text-xs font-bold flex-shrink-0;
}

/* Card action states */
.card-component:active,
.card-component-ready:active,
.card-component-progress:active,
.card-component-complete:active {
  @apply shadow-lg;
}

/* ===== 7. LAYOUT & TYPOGRAPHY ===== */

/* Grid layouts */
.grid-2-equal {
  @apply grid grid-cols-2 gap-4;
}

.grid-3-equal {
  @apply grid grid-cols-3 gap-3;
}

.grid-auto-fit {
  @apply grid gap-3;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
}

/* Headers */
.header-primary {
  @apply bg-sage-500 text-white px-6 py-4;
}

.header-secondary {
  @apply bg-yarn-600 text-white px-6 py-4;
}

/* Content headers */
.content-header-primary {
  @apply text-xl font-semibold text-wool-700 mb-3 text-center;
  margin-top: 0 !important;
}

.content-header-secondary {
  @apply text-lg font-semibold text-wool-700 mb-3 text-center;
  margin-top: 0 !important;
}

.content-header-with-buttons {
  @apply flex justify-between items-start mb-6;
}

.content-header-with-buttons .content-title {
  @apply text-xl font-semibold text-wool-700;
  margin-top: 0 !important;
}

.content-header-with-buttons .button-group {
  @apply flex gap-2 flex-shrink-0;
}

.content-header-with-buttons .button-group .btn-sm {
  @apply whitespace-nowrap;
}

.content-subtitle {
  @apply text-wool-500 mb-4 text-center;
  margin-top: 0 !important;
}

/* Section headers */
.section-header-primary {
  @apply text-lg font-semibold text-wool-700 mb-4 text-left flex items-center gap-2;
}

.section-header-secondary {
  @apply text-base font-semibold text-wool-700 mb-3 text-left;
}

.content-subheader {
  @apply text-wool-500 mb-4 text-center;
  margin-top: 0 !important;
}

.section-header-primary,
.section-header-secondary {
  margin-top: 0 !important;
}

.section-header {
  @apply mb-6;
}

.page-title {
  @apply text-xl font-semibold text-wool-700 mb-6 text-center;
}

.page-content-tight {
  @apply px-6 pb-6 pt-1;
}

/* Spacing utilities */
.stack-sm {
  @apply space-y-3;
}

.stack-md {
  @apply space-y-4;
}

.stack-lg {
  @apply space-y-6;
}

/* Wrapper spacing fixes */
.space-y-4>div:first-child .content-header-primary,
.space-y-4>div:first-child .content-header-secondary,
.space-y-6>div:first-child .content-header-primary,
.space-y-6>div:first-child .content-header-secondary,
.stack-lg>div:first-child .content-header-primary,
.stack-lg>div:first-child .content-header-secondary {
  margin-top: 0 !important;
}

.space-y-4>div:first-child {
  margin-top: 0 !important;
}

.space-y-6>div:first-child {
  margin-top: 0 !important;
}

.stack-lg>div:first-child {
  margin-top: 0 !important;
}

.space-y-4>.content-header-primary:first-child,
.space-y-6>.content-header-primary:first-child,
.stack-lg>.content-header-primary:first-child {
  margin-top: 0 !important;
}

/* ===== 8. INTERACTIVE ELEMENTS ===== */

/* Information blocks */
.info-block {
  @apply bg-lavender-100 border-2 border-lavender-200 rounded-xl p-4 text-left;
}

.tip-block {
  @apply bg-yarn-100 border-2 border-yarn-200 rounded-xl p-4 text-left;
}

.success-block {
  @apply bg-sage-100 border-2 border-sage-200 rounded-xl p-4 text-left;
}

.warning-block {
  @apply bg-wool-100 border border-wool-200 rounded-lg p-3 text-left;
}

.help-block {
  @apply bg-sage-100 border border-sage-200 rounded-lg p-3 text-left;
}

/* Centered variants */
.info-block-center {
  @apply bg-lavender-100 border-2 border-lavender-200 rounded-xl p-4 text-center;
}

.tip-block-center {
  @apply bg-yarn-100 border-2 border-yarn-200 rounded-xl p-4 text-center;
}

.success-block-center {
  @apply bg-sage-100 border-2 border-sage-200 rounded-xl p-4 text-center;
}

.warning-block-center {
  @apply bg-wool-100 border border-wool-200 rounded-lg p-3 text-center;
}

.help-block-center {
  @apply bg-sage-100 border border-sage-200 rounded-lg p-3 text-center;
}

/* Progress indicators */
.progress-bar {
  @apply bg-wool-100 rounded-full h-2 border border-wool-200;
}

.progress-fill-sage {
  @apply bg-sage-500 h-2 rounded-full transition-all duration-300;
}

.progress-fill-lavender {
  @apply bg-lavender-500 h-2 rounded-full transition-all duration-300;
}

.progress-fill-yarn {
  @apply bg-yarn-600 h-2 rounded-full transition-all duration-300;
}

/* Badge system */
.badge {
  @apply text-xs px-2 py-1 rounded-full font-semibold;
}

.badge-coming-soon {
  @apply bg-lavender-500 text-white;
  display: inline-block !important;
  width: auto !important;
  min-width: auto !important;
  max-width: fit-content !important;
  font-size: 0.75rem !important;
  line-height: 1rem !important;
  padding: 0.25rem 0.5rem !important;
  border-radius: 9999px !important;
  font-weight: 600 !important;
  white-space: nowrap !important;
  text-align: center !important;
  background-color: #8b5cf6 !important;
  color: white !important;
}

.badge-next-step {
  @apply bg-yarn-500 text-white;
}

.badge-success {
  @apply bg-sage-500 text-white;
}

.card-interactive .badge.badge-coming-soon {
  position: absolute !important;
  top: 0.5rem !important;
  right: 0.5rem !important;
  width: auto !important;
  min-width: auto !important;
  max-width: fit-content !important;
  z-index: 10 !important;
}

/* Smart suggestions */
.suggestion-bubble {
  @apply bg-white border-2 border-sage-300 text-sage-700 px-4 py-2 rounded-full text-sm font-medium;
  @apply hover:bg-sage-50 hover:border-sage-400 transition-all duration-200 cursor-pointer;
  @apply active:scale-95;
}

/* Animations */
@keyframes slideInFromTop {
  0% {
    opacity: 0;
    transform: translateY(-8px) scale(0.95);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-in {
  animation: slideInFromTop 200ms ease-out;
}

@keyframes saveSuccess {
  0% {
    @apply bg-white;
  }

  50% {
    @apply bg-sage-100 border-sage-300 transform scale-[1.01];
  }

  100% {
    @apply bg-white;
  }
}

.save-success-flash {
  animation: saveSuccess 0.6s ease-out;
}

/* Transition utilities */
.transition-standard {
  @apply transition-all duration-200;
}

.transition-slow {
  @apply transition-all duration-300;
}

.button-press {
  @apply transform scale-95 transition-transform duration-100;
}

.hover-lift {
  @apply hover:transform hover:scale-[1.02] hover:shadow-md transition-all duration-200;
}

.field-focus-highlight {
  @apply ring-2 ring-sage-300 ring-opacity-50 transform scale-[1.01];
  @apply transition-all duration-200;
}

/* Status headers for sections */
.header-status-edit-mode {
  @apply bg-yarn-100 border-2 border-yarn-300 text-yarn-800 rounded-xl p-3;
}

.header-status-ready {
  @apply bg-sage-50 border-2 border-sage-500 text-sage-800 rounded-xl p-3;
}

.header-status-progress {
  @apply bg-sage-200 border-2 border-sage-600 text-sage-900 rounded-xl p-3;
}

.header-status-complete {
  @apply bg-lavender-150 border-2 border-lavender-300 text-lavender-700 rounded-xl p-3;
}

.header-status-finishing {
  @apply bg-lavender-100 border-2 border-lavender-400 text-lavender-800 rounded-xl p-3;
}

.header-status-planning {
  @apply bg-yarn-100 border-2 border-yarn-300 text-yarn-800 rounded-xl p-3;
}

.header-status-fire {
  background: linear-gradient(45deg, #b3d4b3, #84be84, #b3d4b3);
  border: 2px solid #4a8a4a;
  color: #1f3f1f;
  border-radius: 0.75rem;
  padding: 0.75rem;
}

.header-status-dormant {
  @apply bg-sage-75 border-2 border-sage-300 text-sage-700 rounded-xl p-3;
}

.header-status-frogged {
  @apply bg-wool-200 border-2 border-wool-500 text-wool-900 rounded-xl p-3;
}

/* Status text colors */
.text-status-edit-mode {
  @apply text-yarn-800;
}

.text-status-ready {
  @apply text-sage-800;
}

.text-status-progress {
  @apply text-sage-900;
}

.text-status-complete {
  @apply text-lavender-700;
}

.text-status-finishing {
  @apply text-lavender-800;
}

.text-status-planning {
  @apply text-yarn-800;
}

.text-status-fire {
  @apply text-sage-900;
}

.text-status-dormant {
  @apply text-sage-700;
}

.text-status-frogged {
  @apply text-wool-800;
}

/* Status border colors */
.border-status-edit-mode {
  @apply border-yarn-400;
}

.border-status-ready {
  @apply border-sage-500;
}

.border-status-progress {
  @apply border-sage-600;
}

.border-status-complete {
  @apply border-lavender-300;
}

.border-status-finishing {
  @apply border-lavender-500;
}

.border-status-planning {
  @apply border-yarn-400;
}

.border-status-fire {
  @apply border-sage-600;
}

.border-status-dormant {
  @apply border-sage-300;
}

.border-status-frogged {
  @apply border-wool-500;
}

/* ===== 9. MOBILE & RESPONSIVE FIXES ===== */

/* Mobile safe area support */
@supports (padding-top: env(safe-area-inset-top)) {
  .mobile-header {
    padding-top: env(safe-area-inset-top);
  }
}

/* Desktop hover fixes */
@media (min-width: 768px) {
  .hover\:scale-\[1\.02\] {
    transform: none !important;
  }

  .hover\:shadow-md {
    box-shadow: none !important;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  * {
    scrollbar-width: none;
  }

  /* Menu item fixes */
  .menu-item {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-width: 160px;
  }

  .menu-item[class*="absolute"][class*="right"],
  [role="menu"][class*="absolute"][class*="right"],
  .dropdown-menu[class*="absolute"][class*="right"] {
    min-width: 200px;
  }
}

/* Global container system */
.app-container {
  margin-left: auto;
  margin-right: auto;
  background-color: #fefcf9;
  /* yarn-50 */
  min-height: 100vh;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  max-width: min(100vw, 448px);
  /* Mobile: same as max-w-md */
}

@media (min-width: 768px) {
  .app-container {
    max-width: min(100vw - 32px, 720px);
    /* Tablet: comfortable width */
    border-radius: 0.75rem;
    margin-top: 1rem;
    margin-bottom: 1rem;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  }

  /* Tablet spacing overrides */
  .app-container .p-4 {
    padding: 1.5rem;
  }

  .app-container .p-6 {
    padding: 2rem;
  }

  .app-container .px-4 {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  .app-container .px-6 {
    padding-left: 2rem;
    padding-right: 2rem;
  }

  .app-container .py-4 {
    padding-top: 1.25rem;
    padding-bottom: 1.25rem;
  }

  .app-container .py-6 {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }

  /* Better spacing between elements */
  .app-container .space-y-3>*+* {
    margin-top: 1rem;
  }

  .app-container .space-y-4>*+* {
    margin-top: 1.5rem;
  }

  .app-container .space-y-6>*+* {
    margin-top: 2rem;
  }

  /* Gap improvements */
  .app-container .gap-3 {
    gap: 1rem;
  }

  .app-container .gap-4 {
    gap: 1.5rem;
  }

  /* Typography scaling */
  .app-container {
    font-size: 16px;
    line-height: 1.6;
  }

  .app-container .text-xl {
    font-size: 1.5rem;
    line-height: 2rem;
  }

  .app-container .text-lg {
    font-size: 1.25rem;
    line-height: 1.75rem;
  }

  .app-container .text-base {
    font-size: 1.125rem;
    line-height: 1.75rem;
  }

  .app-container .text-sm {
    font-size: 1rem;
    line-height: 1.5rem;
  }

  .app-container .content-header-primary {
    font-size: 1.875rem;
    line-height: 2.25rem;
    margin-bottom: 2rem;
  }

  .app-container .content-header-secondary {
    font-size: 1.5rem;
    line-height: 2rem;
    margin-bottom: 1.5rem;
  }

  .app-container .page-title {
    font-size: 1.875rem;
    line-height: 2.25rem;
    margin-bottom: 2rem;
  }

  /* Interactive elements */
  .app-container .btn-primary,
  .app-container .btn-secondary,
  .app-container .btn-tertiary,
  .app-container button {
    font-size: 1rem;
    line-height: 1.5rem;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
    min-height: 48px;
    border-radius: 0.75rem;
  }

  .app-container input[type="text"],
  .app-container input[type="number"],
  .app-container input[type="email"],
  .app-container input[type="password"],
  .app-container textarea,
  .app-container select {
    font-size: 1rem;
    line-height: 1.5rem;
    padding: 0.75rem 1rem;
    min-height: 48px;
    border-radius: 0.75rem;
  }

  .app-container button,
  .app-container [role="button"],
  .app-container .clickable,
  .app-container .btn-sm {
    min-height: 48px;
    min-width: 48px;
  }

  /* Card improvements */
  .app-container .card,
  .app-container .card-interactive,
  .app-container .card-info,
  .app-container .step-card {
    padding: 1.5rem;
    border-radius: 1rem;
  }

  .app-container .card-project-ready,
  .app-container .card-project-active,
  .app-container .card-project-complete,
  .app-container .card-project-fire,
  .app-container .card-project-dormant,
  .app-container .card-project-frogged,
  .app-container .card-project-planning {
    padding: 1.5rem;
    border-radius: 1rem;
  }

  /* Modal improvements */
  .modal-content,
  .modal-content-light {
    max-width: 32rem;
    /* lg */
    padding: 2rem;
    border-radius: 1rem;
  }

  .modal {
    padding: 2rem;
    align-items: flex-start !important;
    padding-top: 5vh !important;
  }

  .modal-content-light {
    margin: 0 auto !important;
    border-radius: 1rem !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  }

  /* Header improvements */
  .app-container .header-primary,
  .app-container .header-secondary {
    padding-left: 2rem;
    padding-right: 2rem;
    padding-top: 1.25rem;
    padding-bottom: 1.25rem;
  }

  .app-container .tab-button {
    padding: 1rem 1.5rem;
    font-size: 1rem;
    line-height: 1.5rem;
    min-height: 52px;
  }

  .app-container .menu-item {
    padding: 0.75rem 1rem;
    font-size: 1rem;
    line-height: 1.5rem;
    min-height: 48px;
  }

  /* Grid improvements */
  .app-container .grid-2-equal {
    gap: 1.5rem;
  }

  .app-container .grid-3-equal {
    gap: 1rem;
  }

  .app-container .grid-auto-fit {
    gap: 1rem;
  }

  /* Progress improvements */
  .app-container .progress-bar {
    height: 8px;
  }

  .app-container .badge {
    font-size: 0.75rem;
    line-height: 1rem;
    padding: 0.25rem 0.5rem;
  }

  .app-container .status-indicator {
    font-size: 1rem;
    line-height: 1.5rem;
    padding: 0.5rem 1rem;
  }

  /* List improvements */
  .app-container .component-list-item {
    padding: 1.5rem;
    border-radius: 1rem;
  }

  .app-container .step-list-item {
    padding: 1.25rem;
    border-radius: 0.75rem;
  }

  /* Special header handling */
  .app-container .header-primary:first-child,
  .app-container .header-secondary:first-child {
    border-top-left-radius: 0.75rem;
    border-top-right-radius: 0.75rem;
    overflow: hidden;
  }

  /* Row entry modal fixes */
  .modal-content .grid-cols-3,
  .modal-content-light .grid-cols-3 {
    grid-template-columns: repeat(6, 1fr) !important;
    gap: 0.75rem !important;
  }

  .modal-content .grid-cols-4,
  .modal-content-light .grid-cols-4 {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 0.75rem !important;
  }

  .modal-content button[class*="bg-sage"],
  .modal-content-light button[class*="bg-sage"],
  .modal-content button[class*="bg-lavender"],
  .modal-content-light button[class*="bg-lavender"],
  .modal-content button[class*="bg-yarn"],
  .modal-content-light button[class*="bg-yarn"] {
    padding: 0.5rem 0.75rem !important;
    min-height: 44px !important;
    max-width: none !important;
    font-size: 0.875rem !important;
    white-space: nowrap !important;
  }

  .modal-content textarea,
  .modal-content-light textarea {
    min-height: 100px !important;
    font-size: 1rem !important;
  }

  .modal-content-light button {
    max-width: 120px !important;
  }

  /* Badge fixes for tablet */
  .badge.badge-coming-soon {
    width: auto !important;
    min-width: auto !important;
    max-width: fit-content !important;
    font-size: 0.75rem !important;
    padding: 0.25rem 0.5rem !important;
  }
}

@media (min-width: 1024px) {
  .app-container {
    max-width: min(100vw - 40px, 900px);
    /* Desktop: wider but still mobile-first */
  }
}

/* iPad specific overrides */
@media (min-width: 768px) and (max-width: 1024px) {
  .app-container {
    max-width: min(100vw - 32px, 720px);
  }
}

/* ===== DETAILS TAB SPECIFIC ENHANCEMENTS ===== */

.edit-mode-container {
  @apply bg-sage-50 border-2 border-sage-200 rounded-xl p-4 transition-all duration-200;
}

.edit-mode-header {
  @apply bg-sage-100 border border-sage-300 rounded-xl p-4 mb-6;
}

.edit-mode-badge {
  @apply bg-sage-100 border border-sage-300 text-sage-700 px-3 py-1 rounded-full text-xs font-medium;
}

.unsaved-changes-badge {
  @apply bg-yarn-100 border border-yarn-300 text-yarn-700 px-2 py-1 rounded-full text-xs font-medium;
}

.notes-click-to-edit {
  @apply border-2 border-transparent rounded-xl p-4 transition-all duration-200;
  @apply hover:border-sage-200 hover:bg-sage-50 cursor-text;
  @apply focus-within:border-sage-500 focus-within:bg-white focus-within:shadow-inner;
}

.notes-empty-state {
  @apply text-center py-8 text-wool-500 border-2 border-dashed border-wool-300 rounded-xl;
  @apply hover:border-sage-300 hover:text-sage-600 cursor-text transition-all duration-200;
}

.notes-editing {
  @apply border-sage-500 bg-white shadow-inner;
}

.notes-read-mode {
  @apply bg-white border-2 border-wool-200 rounded-xl p-4;
}

.notes-expand-collapse {
  @apply text-sage-600 hover:text-sage-700 font-medium text-sm;
  @apply border-t border-sage-200 pt-2 mt-2 transition-colors duration-200;
}

.field-group-basics {
  @apply bg-gradient-to-r from-wool-50 to-sage-50 border-l-4 border-wool-300;
}

.field-group-materials {
  @apply bg-gradient-to-r from-yarn-50 to-wool-50 border-l-4 border-yarn-300;
}

.field-group-info {
  @apply bg-gradient-to-r from-lavender-50 to-sage-50 border-l-4 border-lavender-300;
}

.field-group-timeline {
  @apply bg-gradient-to-r from-sage-50 to-lavender-50 border-l-4 border-sage-300;
}

.field-group-notes {
  @apply bg-gradient-to-r from-wool-50 to-yarn-50 border-l-4 border-wool-400;
}

.details-form-field {
  @apply space-y-3 p-4 bg-white rounded-xl border border-wool-200;
  @apply focus-within:border-sage-300 focus-within:shadow-sm transition-all duration-200;
}

.details-input-field {
  @apply w-full border-2 border-wool-200 rounded-xl px-3 py-2.5 text-base;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
  @apply transition-all duration-200 placeholder-wool-400 bg-white;
}

.details-textarea {
  @apply w-full border-2 border-wool-200 rounded-xl px-3 py-2.5 text-base;
  @apply focus:border-sage-500 focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
  @apply transition-all duration-200 placeholder-wool-400 bg-white resize-none;
  @apply min-h-[120px];
}

.character-count {
  @apply text-xs text-wool-500 text-right mt-1;
}

.details-segmented-control {
  @apply bg-wool-100 border-2 border-wool-200 rounded-xl p-1;
  @apply hover:border-sage-300 transition-colors duration-200;
}

.details-segmented-option {
  @apply py-3 px-4 rounded-lg text-sm font-semibold transition-all duration-200;
  @apply text-wool-600 hover:text-sage-600 cursor-pointer;
  @apply focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
}

.details-segmented-option-active {
  @apply bg-sage-500 text-white shadow-sm transform scale-[1.02];
}

.read-mode-section {
  @apply bg-white rounded-xl p-4 border-2 border-wool-200 shadow-sm;
  @apply hover:border-sage-200 hover:shadow-md transition-all duration-200;
  @apply transform active:scale-95 cursor-pointer;
}

.read-mode-field {
  @apply flex justify-between items-start py-2;
  @apply border-b border-wool-100 last:border-b-0;
}

.read-mode-label {
  @apply text-sm font-medium text-wool-600 min-w-0 pr-4;
}

.read-mode-value {
  @apply text-sm text-wool-700 font-medium text-right min-w-0;
  @apply break-words;
}

.read-mode-list-item {
  @apply ml-3 text-sm text-wool-700 relative;
}

.read-mode-list-item::before {
  content: 'â€¢';
  @apply text-yarn-500 absolute -left-3;
}

.details-edit-button {
  @apply bg-sage-500 text-white text-xs px-3 py-1.5 rounded-md font-medium;
  @apply hover:bg-sage-600 active:bg-sage-700 transition-all duration-200;
  @apply focus:ring-2 focus:ring-sage-300 focus:ring-opacity-50;
}

.details-section-header {
  @apply flex justify-between items-start mb-4;
}

.details-section-title {
  @apply font-semibold text-wool-700 text-lg flex items-center gap-2;
}

.unsaved-changes-warning {
  @apply bg-yarn-50 border-2 border-yarn-200 rounded-xl p-3 mb-4;
}

.unsaved-changes-text {
  @apply text-sm text-yarn-700 font-medium;
}

.timeline-entry {
  @apply flex justify-between items-center py-2;
  @apply border-b border-wool-100 last:border-b-0;
}

.timeline-label {
  @apply text-sm font-medium text-wool-600 flex items-center gap-2;
}

.timeline-date {
  @apply text-sm text-wool-700 font-medium;
}

.details-loading {
  @apply animate-pulse bg-wool-100 rounded-xl;
}

.details-skeleton {
  @apply bg-wool-200 rounded h-4 w-full;
}

.details-error {
  @apply bg-red-50 border-2 border-red-200 text-red-700 p-3 rounded-xl;
}

.details-field-error {
  @apply border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-300;
}

.details-success {
  @apply bg-sage-50 border-2 border-sage-200 text-sage-700 p-3 rounded-xl;
}